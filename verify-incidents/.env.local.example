# ============================================
# verify-incidents Environment Variables
# Incident Management Application (Port 3006)
# Next.js 15 Frontend with NextAuth
# ============================================

# ============================================
# Application Configuration
# ============================================
NODE_ENV=production
PORT=3006
HOSTNAME=0.0.0.0

# ============================================
# API Configuration (Required)
# ============================================
# Backend API URL (verify-monitor-api)
NEXT_PUBLIC_API_URL=http://localhost:3001

# WebSocket URL (Socket.IO)
NEXT_PUBLIC_WS_URL=ws://localhost:3001

# 프로덕션에서는 실제 도메인 사용:
# NEXT_PUBLIC_API_URL=https://api.yourdomain.com
# NEXT_PUBLIC_WS_URL=wss://api.yourdomain.com

# ============================================
# NextAuth Configuration (Required)
# ============================================
# Application URL
NEXTAUTH_URL=http://localhost:3006

# NextAuth Secret (Generate with: openssl rand -base64 32)
NEXTAUTH_SECRET=your-nextauth-secret-key-generate-with-openssl-rand-base64-32

# 프로덕션:
# NEXTAUTH_URL=https://incidents.yourdomain.com

# ============================================
# Authentication Providers
# ============================================
# JWT Strategy
JWT_SIGNING_KEY=your-jwt-signing-key
JWT_ENCRYPTION_KEY=your-jwt-encryption-key

# Session Configuration
SESSION_MAX_AGE=86400
# 세션 유효 시간 (초, 24시간 = 86400)

SESSION_UPDATE_AGE=3600
# 세션 갱신 간격 (초, 1시간 = 3600)

# ============================================
# Application Settings
# ============================================
NEXT_PUBLIC_APP_NAME=Incident Manager
NEXT_PUBLIC_APP_VERSION=1.0.0
NEXT_PUBLIC_COMPANY_NAME=Argos Identity

# ============================================
# Feature Flags
# ============================================
NEXT_PUBLIC_ENABLE_WEBSOCKET=true
NEXT_PUBLIC_ENABLE_REALTIME_UPDATES=true
NEXT_PUBLIC_ENABLE_NOTIFICATIONS=true
NEXT_PUBLIC_ENABLE_MARKDOWN_EDITOR=true
NEXT_PUBLIC_ENABLE_FILE_UPLOAD=false
NEXT_PUBLIC_ENABLE_COMMENTS=true

# ============================================
# Incident Management Settings
# ============================================
NEXT_PUBLIC_AUTO_REFRESH=true
NEXT_PUBLIC_REFRESH_INTERVAL=30000
# 자동 새로고침 간격 (밀리초, 30초 = 30000)

NEXT_PUBLIC_MAX_INCIDENTS_PER_PAGE=20
# 페이지당 표시할 인시던트 수

NEXT_PUBLIC_SHOW_RESOLVED_INCIDENTS=true
# 해결된 인시던트 표시 여부

NEXT_PUBLIC_INCIDENT_RETENTION_DAYS=365
# 인시던트 보관 기간 (일)

# ============================================
# Display Settings
# ============================================
NEXT_PUBLIC_DATE_FORMAT=YYYY-MM-DD HH:mm:ss
NEXT_PUBLIC_TIMEZONE=Asia/Seoul
NEXT_PUBLIC_DEFAULT_LOCALE=ko
NEXT_PUBLIC_SUPPORTED_LOCALES=ko,en

# ============================================
# Editor Settings
# ============================================
NEXT_PUBLIC_MARKDOWN_ENABLED=true
# 마크다운 에디터 사용

NEXT_PUBLIC_RICH_TEXT_ENABLED=false
# 리치 텍스트 에디터 사용

NEXT_PUBLIC_MAX_DESCRIPTION_LENGTH=5000
# 인시던트 설명 최대 길이

NEXT_PUBLIC_MAX_UPDATE_LENGTH=2000
# 업데이트 메시지 최대 길이

# ============================================
# WebSocket Configuration
# ============================================
NEXT_PUBLIC_SOCKET_RECONNECTION=true
NEXT_PUBLIC_SOCKET_RECONNECTION_ATTEMPTS=5
NEXT_PUBLIC_SOCKET_RECONNECTION_DELAY=1000
NEXT_PUBLIC_SOCKET_TIMEOUT=20000

# Real-time Collaboration
NEXT_PUBLIC_ENABLE_PRESENCE=true
# 현재 접속 중인 사용자 표시

NEXT_PUBLIC_PRESENCE_TIMEOUT=300000
# Presence 타임아웃 (5분 = 300000ms)

# ============================================
# Notification Settings
# ============================================
NEXT_PUBLIC_ENABLE_BROWSER_NOTIFICATIONS=true
NEXT_PUBLIC_ENABLE_SOUND_NOTIFICATIONS=false
NEXT_PUBLIC_NOTIFICATION_DURATION=5000

# ============================================
# Permission & Role Configuration
# ============================================
# Role-based access control (viewer/reporter/admin)
NEXT_PUBLIC_REQUIRE_AUTH=true
NEXT_PUBLIC_DEFAULT_ROLE=viewer

# ============================================
# API Request Configuration
# ============================================
NEXT_PUBLIC_API_TIMEOUT=15000
# API 요청 타임아웃 (밀리초)

NEXT_PUBLIC_RETRY_ATTEMPTS=3
NEXT_PUBLIC_RETRY_DELAY=1000

# ============================================
# Cache Configuration
# ============================================
NEXT_PUBLIC_CACHE_ENABLED=true
NEXT_PUBLIC_CACHE_TTL=60
# 캐시 유효 시간 (초)

# ============================================
# File Upload (Optional - 향후 기능)
# ============================================
# NEXT_PUBLIC_MAX_FILE_SIZE=10485760
# 최대 파일 크기 (바이트, 10MB = 10485760)

# NEXT_PUBLIC_ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf
# 허용 파일 타입

# ============================================
# Search & Filter
# ============================================
NEXT_PUBLIC_ENABLE_SEARCH=true
NEXT_PUBLIC_ENABLE_ADVANCED_FILTER=true
NEXT_PUBLIC_SEARCH_DEBOUNCE_MS=300

# ============================================
# Analytics (Optional)
# ============================================
# Google Analytics
# NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# Sentry (Error Tracking)
# NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn
# NEXT_PUBLIC_SENTRY_ENVIRONMENT=production

# ============================================
# Theme Configuration
# ============================================
NEXT_PUBLIC_THEME=light
NEXT_PUBLIC_ENABLE_DARK_MODE=false
NEXT_PUBLIC_PRIMARY_COLOR=#2196F3
# Blue - Incident management primary color

# ============================================
# Security Settings
# ============================================
NEXT_PUBLIC_CSP_ENABLED=false
# Content Security Policy

NEXT_PUBLIC_RATE_LIMIT_ENABLED=true
# 클라이언트 측 Rate Limiting

# ============================================
# Development Settings
# ============================================
# NEXT_PUBLIC_DEBUG=false
# NEXT_PUBLIC_MOCK_DATA=false
# NEXT_PUBLIC_SHOW_DEV_TOOLS=false
# NEXT_PUBLIC_ENABLE_LOGGER=false

# ============================================
# Email Notifications (Optional - Backend에서 처리)
# ============================================
# 이메일 알림은 verify-monitor-api에서 설정
# 여기서는 클라이언트 UI 표시 옵션만

NEXT_PUBLIC_SHOW_EMAIL_SUBSCRIBE=false
NEXT_PUBLIC_SHOW_NOTIFICATION_PREFERENCES=true

# ============================================
# 주의사항
# ============================================
# 1. NEXT_PUBLIC_ 접두사가 붙은 변수만 브라우저에 노출됨
# 2. NEXTAUTH_SECRET은 절대 NEXT_PUBLIC_로 시작하면 안 됨
# 3. JWT 키와 세션 비밀키는 강력하게 생성
# 4. 프로덕션에서 NEXTAUTH_URL을 실제 도메인으로 변경 필수

# ============================================
# NextAuth Secret 생성
# ============================================
# openssl rand -base64 32

# ============================================
# 설정 완료 후 작업
# ============================================
# 1. NEXTAUTH_SECRET 생성 및 설정
# 2. NEXTAUTH_URL을 실제 애플리케이션 URL로 변경
# 3. NEXT_PUBLIC_API_URL을 실제 API 서버 주소로 변경
# 4. JWT_SIGNING_KEY, JWT_ENCRYPTION_KEY 생성
# 5. 파일 권한 설정: chmod 600 .env.local
# 6. npm run build 실행
# 7. PM2로 실행: pm2 start ecosystem.config.js --only verify-incidents
